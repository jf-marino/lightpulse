{"dependencies":[{"name":"core-js/library/fn/array/some","loc":{"line":3,"column":19}},{"name":"core-js/library/fn/array/map","loc":{"line":4,"column":18}}],"generated":{"js":"'use strict';\n\nvar some = require('core-js/library/fn/array/some');\nvar map = require('core-js/library/fn/array/map');\n\nfunction decorate (callSpec, decorator) {\n    var numArgsToCapture = callSpec.numArgsToCapture;\n\n    return function decoratedAssert () {\n        var context, message, hasMessage = false;\n\n        // see: https://github.com/twada/empower-core/pull/8#issue-127859465\n        // see: https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        var args = new Array(arguments.length);\n        for(var i = 0; i < args.length; ++i) {\n            args[i] = arguments[i];\n        }\n\n        if (numArgsToCapture === (args.length - 1)) {\n            message = args.pop();\n            hasMessage = true;\n        }\n\n        var invocation = {\n            thisObj: this,\n            values: args,\n            message: message,\n            hasMessage: hasMessage\n        };\n\n        if (some(args, isCaptured)) {\n            invocation.values = map(args.slice(0, numArgsToCapture), function (arg) {\n                if (isNotCaptured(arg)) {\n                    return arg;\n                }\n                if (!context) {\n                    context = {\n                        source: arg.source,\n                        args: []\n                    };\n                }\n                context.args.push({\n                    value: arg.powerAssertContext.value,\n                    events: arg.powerAssertContext.events\n                });\n                return arg.powerAssertContext.value;\n            });\n\n            return decorator.concreteAssert(callSpec, invocation, context);\n        } else {\n            return decorator.concreteAssert(callSpec, invocation);\n        }\n    };\n}\n\nfunction isNotCaptured (value) {\n    return !isCaptured(value);\n}\n\nfunction isCaptured (value) {\n    return (typeof value === 'object') &&\n        (value !== null) &&\n        (typeof value.powerAssertContext !== 'undefined');\n}\n\nmodule.exports = decorate;\n"},"hash":"a5871b83a14ade920d716c5d94548f45"}