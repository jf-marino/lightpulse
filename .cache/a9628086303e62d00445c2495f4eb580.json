{"dependencies":[{"name":"core-js/library/fn/object/create","loc":{"line":10,"column":21}},{"name":"core-js/library/fn/object/assign","loc":{"line":11,"column":21}},{"name":"./lib/default-options","loc":{"line":12,"column":29}},{"name":"./lib/decorator","loc":{"line":13,"column":24}},{"name":"./lib/define-properties","loc":{"line":14,"column":21}}],"generated":{"js":"/**\n * empower-core - Power Assert feature enhancer for assert function/object.\n *\n * https://github.com/twada/empower-core\n *\n * Copyright (c) 2013-2017 Takuto Wada\n * Licensed under the MIT license.\n *   https://github.com/twada/empower-core/blob/master/MIT-LICENSE.txt\n */\nvar create = require('core-js/library/fn/object/create');\nvar assign = require('core-js/library/fn/object/assign');\nvar defaultOptions = require('./lib/default-options');\nvar Decorator = require('./lib/decorator');\nvar define = require('./lib/define-properties');\nvar slice = Array.prototype.slice;\n\n/**\n * Enhance Power Assert feature to assert function/object.\n * @param assert target assert function or object to enhance\n * @param options enhancement options\n * @return enhanced assert function/object\n */\nfunction empowerCore (assert, options) {\n    var typeOfAssert = (typeof assert);\n    var enhancedAssert;\n    if ((typeOfAssert !== 'object' && typeOfAssert !== 'function') || assert === null) {\n        throw new TypeError('empower-core argument should be a function or object.');\n    }\n    if (isEmpowered(assert)) {\n        return assert;\n    }\n    switch (typeOfAssert) {\n    case 'function':\n        enhancedAssert = empowerAssertFunction(assert, options);\n        break;\n    case 'object':\n        enhancedAssert = empowerAssertObject(assert, options);\n        break;\n    default:\n        throw new Error('Cannot be here');\n    }\n    define(enhancedAssert, { _empowered: true });\n    return enhancedAssert;\n}\n\nfunction empowerAssertObject (assertObject, options) {\n    var config = assign(defaultOptions(), options);\n    var target = config.destructive ? assertObject : create(assertObject);\n    var decorator = new Decorator(target, config);\n    return assign(target, decorator.enhancement());\n}\n\nfunction empowerAssertFunction (assertFunction, options) {\n    var config = assign(defaultOptions(), options);\n    if (config.destructive) {\n        throw new Error('cannot use destructive:true to function.');\n    }\n    var decorator = new Decorator(assertFunction, config);\n    var enhancement = decorator.enhancement();\n    var powerAssert;\n    if (typeof enhancement === 'function') {\n        powerAssert = function powerAssert () {\n            return enhancement.apply(null, slice.apply(arguments));\n        };\n    } else {\n        powerAssert = function powerAssert () {\n            return assertFunction.apply(null, slice.apply(arguments));\n        };\n    }\n    assign(powerAssert, assertFunction);\n    return assign(powerAssert, enhancement);\n}\n\nfunction isEmpowered (assertObjectOrFunction) {\n    return assertObjectOrFunction._empowered;\n}\n\nempowerCore.defaultOptions = defaultOptions;\nmodule.exports = empowerCore;\n"},"hash":"f18f7007ac203bc97cbd00b5bd9796b7"}